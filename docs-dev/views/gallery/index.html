<!DOCTYPE html>
<html lang="en">
<head>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Dosis:wght@200..800&display=swap" rel="stylesheet">
<link href="./assets/css/grid.css" rel="stylesheet" />
<meta charset=utf-8 />
<meta name="viewport" content="user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, minimal-ui">
<title>Vilij Corps Language Explorer</title>

<script src="./libs/papaparse.min.js"></script>
<script src="./libs/isotope.pkgd.min.js"></script>
<script type="module" src="./libs/model-viewer.min.js"></script>

</head>
<body>

    <div style="margin: auto; width: 90vw;">

    <div class="button-group" style="margin: auto; width: 500px; margin-top: 10px;">
        <button id="newest" data-filter=".newest">new</button>
        <button id="show_all" data-filter="*">show all</button>
        <button id="dwellings" data-filter=".dwellings">dwellings</button>
        <button id="walls" data-filter=".walls">walls</button>
        <button id="signs" data-filter=".signs">signs</button>
        <button id="props" data-filter=".props">props</button>
        <button id="transport" data-filter=".transport">transport</button>
    </div>

    <div class="grid">
        <div class="grid-item dwellings">
            <div class="flip-card">
                <div class="flip-card-inner">
                  <div class="flip-card-front">
                    <img src="./assets/logo/crested-crane-logo.png" alt="Avatar" style="width:240px;height:240px;">
                  </div>
                  <div class="flip-card-back">
                    <h3>John Doe</h3>
                    <p>Architect & Engineer</p>
                    <p>We love that guy</p>
                    <button class="3d_model" data-file="avocado">3D Model</button>
                  </div>
                </div>
            </div>
        </div>
        <div class="grid-item walls">
            <div class="flip-card">
                <div class="flip-card-inner">
                  <div class="flip-card-front">
                    <img src="./assets/logo/crested-crane-logo.png" alt="Avatar" style="width:240px;height:240px;">
                  </div>
                  <div class="flip-card-back">
                    <h3>John Doe</h3>
                    <p>Architect & Engineer</p>
                    <p>We love that guy</p>
                    <button class="3d_model" data-file="duck">3D Model</button>
                  </div>
                </div>
            </div>
        </div>
        <div class="grid-item dwellings">
            <div class="flip-card">
                <div class="flip-card-inner">
                  <div class="flip-card-front">
                    <img src="./assets/logo/crested-crane-logo.png" alt="Avatar" style="width:240px;height:240px;">
                  </div>
                  <div class="flip-card-back">
                    <h3>John Doe</h3>
                    <p>Architect & Engineer</p>
                    <p>We love that guy</p>
                    <button class="3d_model" data-file="duck">3D Model</button>
                  </div>
                </div>
            </div>
        </div>
        <div class="grid-item walls">
            <div class="flip-card">
                <div class="flip-card-inner">
                  <div class="flip-card-front">
                    <img src="./assets/logo/crested-crane-logo.png" alt="Avatar" style="width:240px;height:240px;">
                  </div>
                  <div class="flip-card-back">
                    <h3>John Doe</h3>
                    <p>Architect & Engineer</p>
                    <p>We love that guy</p>
                    <button class="3d_model" data-file="avocado">3D Model</button>
                  </div>
                </div>
            </div>
        </div>
        <div class="grid-item dwellings">
            <div class="flip-card">
                <div class="flip-card-inner">
                  <div class="flip-card-front">
                    <img src="./assets/logo/crested-crane-logo.png" alt="Avatar" style="width:240px;height:240px;">
                  </div>
                  <div class="flip-card-back">
                    <h3>John Doe</h3>
                    <p>Architect & Engineer</p>
                    <p>We love that guy</p>
                    <button class="3d_model" data-file="duck">3D Model</button>
                  </div>
                </div>
            </div>
        </div>
        <div class="grid-item signs">
            <div class="flip-card">
                <div class="flip-card-inner">
                  <div class="flip-card-front">
                    <img src="./assets/logo/crested-crane-logo.png" alt="Avatar" style="width:240px;height:240px;">
                  </div>
                  <div class="flip-card-back">
                    <h3>John Doe</h3>
                    <p>Architect & Engineer</p>
                    <p>We love that guy</p>
                    <button class="3d_model" data-file="helmet">3D Model</button>
                  </div>
                </div>
            </div>
        </div>
        <div class="grid-item dwellings">
            <div class="flip-card">
                <div class="flip-card-inner">
                  <div class="flip-card-front">
                    <img src="./assets/logo/crested-crane-logo.png" alt="Avatar" style="width:240px;height:240px;">
                  </div>
                  <div class="flip-card-back">
                    <h3>John Doe</h3>
                    <p>Architect & Engineer</p>
                    <p>We love that guy</p>
                    <button class="3d_model" data-file="avocado">3D Model</button>
                  </div>
                </div>
            </div>
        </div>
        <div class="grid-item walls">
            <div class="flip-card">
                <div class="flip-card-inner">
                  <div class="flip-card-front">
                    <img src="./assets/logo/crested-crane-logo.png" alt="Avatar" style="width:240px;height:240px;">
                  </div>
                  <div class="flip-card-back">
                    <h3>John Doe</h3>
                    <p>Architect & Engineer</p>
                    <p>We love that guy</p>
                    <button class="3d_model" data-file="duck">3D Model</button>
                  </div>
                </div>
            </div>
        </div>
        <div class="grid-item dwellings">
            <div class="flip-card">
                <div class="flip-card-inner">
                  <div class="flip-card-front">
                    <img src="./assets/logo/crested-crane-logo.png" alt="Avatar" style="width:240px;height:240px;">
                  </div>
                  <div class="flip-card-back">
                    <h3>John Doe</h3>
                    <p>Architect & Engineer</p>
                    <p>We love that guy</p>
                    <button class="3d_model" data-file="duck">3D Model</button>
                  </div>
                </div>
            </div>
        </div>
        <div class="grid-item dwellings">
            <div class="flip-card">
                <div class="flip-card-inner">
                <div class="flip-card-front">
                    <img src="./assets/logo/crested-crane-logo.png" alt="Avatar" style="width:240px;height:240px;">
                </div>
                <div class="flip-card-back">
                    <h3>John Doe</h3>
                    <p>Architect & Engineer</p>
                    <p>We love that guy</p>
                    <button class="3d_model" data-file="helmet">3D Model</button>
                </div>
                </div>
            </div>
        </div>
        <div class="grid-item dwellings">
            <div class="flip-card">
                <div class="flip-card-inner">
                  <div class="flip-card-front">
                    <img src="./assets/logo/crested-crane-logo.png" alt="Avatar" style="width:240px;height:240px;">
                  </div>
                  <div class="flip-card-back">
                    <h3>John Doe</h3>
                    <p>Architect & Engineer</p>
                    <p>We love that guy</p>
                    <button class="3d_model" data-file="avocado">3D Model</button>
                  </div>
                </div>
            </div>
        </div>
        <div class="grid-item walls">
            <div class="flip-card">
                <div class="flip-card-inner">
                  <div class="flip-card-front">
                    <img src="./assets/logo/crested-crane-logo.png" alt="Avatar" style="width:240px;height:240px;">
                  </div>
                  <div class="flip-card-back">
                    <h3>John Doe</h3>
                    <p>Architect & Engineer</p>
                    <p>We love that guy</p>
                    <button class="3d_model" data-file="duck">3D Model</button>
                  </div>
                </div>
            </div>
        </div>
        <div class="grid-item signs">
            <div class="flip-card">
                <div class="flip-card-inner">
                  <div class="flip-card-front">
                    <img src="./assets/logo/crested-crane-logo.png" alt="Avatar" style="width:240px;height:240px;">
                  </div>
                  <div class="flip-card-back">
                    <h3>John Doe</h3>
                    <p>Architect & Engineer</p>
                    <p>We love that guy</p>
                    <button class="3d_model" data-file="wig-blender">3D Model</button>
                  </div>
                </div>
            </div>
        </div>
        <div class="grid-item walls">
            <div class="flip-card">
                <div class="flip-card-inner">
                  <div class="flip-card-front">
                    <img src="./assets/logo/crested-crane-logo.png" alt="Avatar" style="width:240px;height:240px;">
                  </div>
                  <div class="flip-card-back">
                    <h3>John Doe</h3>
                    <p>Architect & Engineer</p>
                    <p>We love that guy</p>
                    <button class="3d_model" data-file="avocado">3D Model</button>
                  </div>
                </div>
            </div>
        </div>
        <div class="grid-item dwellings">
            <div class="flip-card">
                <div class="flip-card-inner">
                  <div class="flip-card-front">
                    <img src="./assets/logo/crested-crane-logo.png" alt="Avatar" style="width:240px;height:240px;">
                  </div>
                  <div class="flip-card-back">
                    <h3>John Doe</h3>
                    <p>Architect & Engineer</p>
                    <p>We love that guy</p>
                    <button class="3d_model" data-file="duck">3D Model</button>
                  </div>
                </div>
            </div>
        </div>
        <div class="grid-item walls">
            <div class="flip-card">
                <div class="flip-card-inner">
                  <div class="flip-card-front">
                    <img src="./assets/logo/crested-crane-logo.png" alt="Avatar" style="width:240px;height:240px;">
                  </div>
                  <div class="flip-card-back">
                    <h3>John Doe</h3>
                    <p>Architect & Engineer</p>
                    <p>We love that guy</p>
                    <button class="3d_model" data-file="wig-blender">3D Model</button>
                  </div>
                </div>
            </div>
        </div>
    </div>

    <div >
      <model-viewer id="model_viewer" alt="" src="./models/wig-blender.glb" tone-mapping="neutral" shadow-intensity="1" camera-controls touch-action="pan-y"></model-viewer>
    </div>

</div>

<!-- Load application code at the end to ensure DOM is loaded -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>

<script>

window.addEventListener('DOMContentLoaded',function () {

    var iso = new Isotope( '.grid', {
        itemSelector: '.grid-item',
        layoutMode: 'fitRows'
    });

    let all_btn = document.getElementById("show_all");
    all_btn.addEventListener("click", function() { 
        iso.arrange({ filter: '*' }); 
    });

    let dwellings_btn = document.getElementById("dwellings");
    dwellings_btn.addEventListener("click", function() { 
        iso.arrange({ filter: '.dwellings' });
    });

    let walls_btn = document.getElementById("walls");
    walls_btn.addEventListener("click", function() { 
        iso.arrange({ filter: '.walls' }); 
    });

    let signs_btn = document.getElementById("signs");
    signs_btn.addEventListener("click", function() { 
        iso.arrange({ filter: '.signs' }); 
    });

    function render_model(glb_file) {
      
      let model_viewer = document.getElementById("model_viewer");
      model_viewer.src = './models/' + glb_file + '.glb';

    }

    // select model buttons and add event listener
    // with data-file attribute referencing the
    // model file name
    const model_buttons = document.getElementsByClassName("3d_model");
    for (let i = 0; i < model_buttons.length; i++) {
          
      model_buttons[i].addEventListener("click", function() { 

        console.log(this.getAttribute('data-file'))
        render_model(this.getAttribute('data-file'))
      
      });
    
    }
});

</script>

</body>
</html>